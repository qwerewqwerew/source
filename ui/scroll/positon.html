<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>JavaScript ìš”ì†Œ ìœ„ì¹˜ê°’ ì–»ê¸° ì™„ì „ ê°€ì´ë“œ</title>
    <style>
        /* ğŸ¨ --- CSS ë³€ìˆ˜ ë° ê¸°ë³¸ ì„¤ì • --- ğŸ¨ */
        :root {
            --bg-color: #f9fafb;
            --text-color: #374151;
            --heading-color: #111827;
            --primary-color: #4f46e5;
            --border-color: #e5e7eb;
            --card-bg: #ffffff;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --code-bg: #1f2937;
            --code-text: #e5e7eb;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 2rem 1rem;
            line-height: 1.7;
        }

        /* ğŸ“ --- ë ˆì´ì•„ì›ƒ --- ğŸ“ */
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 2rem 3rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        section {
            margin-bottom: 3.5rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 2rem;
        }
        section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        /* âœ’ï¸ --- íƒ€ì´í¬ê·¸ë˜í”¼ --- âœ’ï¸ */
        h1, h2, h3 {
            color: var(--heading-color);
            font-weight: 700;
            line-height: 1.3;
            letter-spacing: -0.5px;
        }
        h1 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            background: linear-gradient(45deg, var(--primary-color), #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        h2 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-color);
            display: inline-block;
        }
        h3 {
            font-size: 1.25rem;
            margin-top: 2rem;
        }

        /* ğŸ’» --- ì½”ë“œ ë¸”ë¡ ìŠ¤íƒ€ì¼ --- ğŸ’» */
        pre {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        code {
            font-family: inherit;
        }
        /* ì¸ë¼ì¸ ì½”ë“œ ìŠ¤íƒ€ì¼ */
        :not(pre) > code {
            background-color: #eef2ff;
            color: var(--primary-color);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-size: 0.9em;
        }

        /* ğŸ“Š --- í…Œì´ë¸” ìŠ¤íƒ€ì¼ --- ğŸ“Š */
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 2rem 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            border: 1px solid var(--border-color);
            padding: 0.8rem 1rem;
            text-align: left;
        }
        th {
            background-color: #f9fafb;
            font-weight: 600;
            color: var(--heading-color);
        }
        tr:nth-child(even) {
            background-color: #f9fafb;
        }

        /* ğŸ’¡ --- ì •ë³´ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ --- ğŸ’¡ */
        .tip, .warn, .success {
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-left-width: 5px;
            border-left-style: solid;
            border-radius: 0 8px 8px 0;
        }
        .tip { background-color: #eef2ff; border-color: #6366f1; }
        .warn { background-color: #fffbeb; border-color: #f59e0b; }
        .success { background-color: #f0fdf4; border-color: #22c55e; }
        .tip strong, .warn strong, .success strong {
            font-weight: 600;
            display: block;
            margin-bottom: 0.25rem;
        }

        /* ğŸ”— --- ê¸°íƒ€ ìš”ì†Œ --- ğŸ”— */
        ul {
            list-style-type: 'âœ… ';
            padding-left: 1.5rem;
        }
        li {
            margin-bottom: 0.5rem;
            padding-left: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“ JavaScript ìš”ì†Œ ìœ„ì¹˜ê°’ ì–»ê¸° ì™„ì „ ê°€ì´ë“œ</h1>

        <section>
            <h2>1. <code>getBoundingClientRect()</code> - ë·°í¬íŠ¸ ê¸°ì¤€ ìœ„ì¹˜</h2>
            <pre><code>const element = document.querySelector('.target');
const rect = element.getBoundingClientRect();

console.log('ì™¼ìª½:', rect.left);
console.log('ìœ„ìª½:', rect.top);
console.log('ë„ˆë¹„:', rect.width);
console.log('ë†’ì´:', rect.height);</code></pre>
            <table>
                <tr><th>ì†ì„±</th><th>ì˜ë¯¸</th><th>ì£¼ì˜ì‚¬í•­</th></tr>
                <tr><td><code>left</code> / <code>top</code></td><td>ë·°í¬íŠ¸ ê¸°ì¤€ X, Y ì¢Œí‘œ</td><td>ìŠ¤í¬ë¡¤ ì‹œ ê°’ì´ ê³„ì† ë³€ê²½ë¨</td></tr>
                <tr><td><code>right</code> / <code>bottom</code></td><td>ë·°í¬íŠ¸ ì™¼ìª½/ìœ„ìª½ ëì—ì„œ ìš”ì†Œì˜ ì˜¤ë¥¸ìª½/ì•„ë˜ìª½ ëê¹Œì§€ì˜ ê±°ë¦¬</td><td><code>left + width</code> / <code>top + height</code></td></tr>
                <tr><td><code>width</code> / <code>height</code></td><td>ìš”ì†Œì˜ ì‹¤ì œ ë„ˆë¹„/ë†’ì´</td><td>padding, border í¬í•¨. ì†Œìˆ˜ì  ê°’ ê°€ëŠ¥</td></tr>
            </table>
        </section>

        <section>
            <h2>2. ë¬¸ì„œ ì „ì²´ ê¸°ì¤€ ìœ„ì¹˜</h2>
            <pre><code>function getDocumentPosition(element) {
    const rect = element.getBoundingClientRect();
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
    return {
        top: rect.top + scrollTop,
        left: rect.left + scrollLeft
    };
}</code></pre>
            <div class="tip">
                <strong>ğŸ’¡ í•µì‹¬ ì›ë¦¬</strong>
                <code>getBoundingClientRect()</code>ë¡œ ì–»ì€ ë·°í¬íŠ¸ ê¸°ì¤€ ìœ„ì¹˜ì— í˜„ì¬ ìŠ¤í¬ë¡¤ëœ ê°’ì„ ë”í•´ì£¼ë©´ ë¬¸ì„œ ì „ì²´ ê¸°ì¤€ì˜ ì ˆëŒ€ ìœ„ì¹˜ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </div>
        </section>

        <section>
            <h2>3. <code>offset</code> ê³„ì—´ ì†ì„±ë“¤ (ë¶€ëª¨ ê¸°ì¤€ ìƒëŒ€ ìœ„ì¹˜)</h2>
            <pre><code>const element = document.querySelector('.target');
console.log('offsetLeft:', element.offsetLeft);
console.log('offsetTop:', element.offsetTop);
console.log('offsetWidth:', element.offsetWidth);
console.log('offsetHeight:', element.offsetHeight);
console.log('offsetParent:', element.offsetParent);</code></pre>
            <table>
                <tr><th>ì†ì„±</th><th>ì˜ë¯¸</th><th>í¬í•¨ ìš”ì†Œ</th><th>ì œì™¸ ìš”ì†Œ</th></tr>
                <tr><td><code>offsetLeft</code> / <code>offsetTop</code></td><td><code>offsetParent</code> ê¸°ì¤€ ìƒëŒ€ ìœ„ì¹˜</td><td>-</td><td>margin</td></tr>
                <tr><td><code>offsetWidth</code> / <code>offsetHeight</code></td><td>ìš”ì†Œì˜ ì „ì²´ ë„ˆë¹„/ë†’ì´</td><td>padding, border, ìŠ¤í¬ë¡¤ë°”</td><td>margin</td></tr>
            </table>
        </section>

        <section>
            <h2>4. <code>client</code> ê³„ì—´ ì†ì„±ë“¤ (ì½˜í…ì¸  ì˜ì—­ ì •ë³´)</h2>
            <pre><code>console.log('clientLeft:', element.clientLeft);
console.log('clientTop:', element.clientTop);
console.log('clientWidth:', element.clientWidth);
console.log('clientHeight:', element.clientHeight);</code></pre>
            <table>
                <tr><th>ì†ì„±</th><th>ì˜ë¯¸</th><th>í¬í•¨ ìš”ì†Œ</th><th>ì œì™¸ ìš”ì†Œ</th></tr>
                <tr><td><code>clientLeft</code> / <code>clientTop</code></td><td>ì™¼ìª½/ìœ„ìª½ border ë‘ê»˜</td><td>border-width</td><td>-</td></tr>
                <tr><td><code>clientWidth</code> / <code>clientHeight</code></td><td>ì½˜í…ì¸ +íŒ¨ë”© ë„ˆë¹„/ë†’ì´</td><td>padding</td><td>border, margin, ìŠ¤í¬ë¡¤ë°”</td></tr>
            </table>
        </section>

        <section>
            <h2>5. <code>scroll</code> ê³„ì—´ ì†ì„±ë“¤ (ìŠ¤í¬ë¡¤ ì •ë³´)</h2>
            <pre><code>console.log('scrollLeft:', element.scrollLeft);
console.log('scrollTop:', element.scrollTop);
console.log('scrollWidth:', element.scrollWidth);
console.log('scrollHeight:', element.scrollHeight);</code></pre>
            <div class="tip">
                <strong>í™œìš©ë²•:</strong> <code>scrollTop</code>, <code>scrollHeight</code>, <code>clientHeight</code>ë¥¼ ì¡°í•©í•˜ì—¬ ìš”ì†Œ ë‚´ë¶€ì˜ ìŠ¤í¬ë¡¤ ì§„í–‰ë¥ ì„ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </div>
        </section>

        <section>
            <h2>6. ì‹¤ì „ ì˜ˆì œ: ìš”ì†Œê°€ í™”ë©´ì— ë³´ì´ëŠ”ì§€ í™•ì¸</h2>
            <pre><code>function isElementInViewport(element) {
    const rect = element.getBoundingClientRect();
    return (
        rect.top < window.innerHeight && rect.bottom > 0 &&
        rect.left < window.innerWidth && rect.right > 0
    );
}</code></pre>
        </section>

        <section>
            <h2>7. ì„±ëŠ¥ ìµœì í™” íŒ</h2>
            <pre><code>// âœ… ìš”ì†Œ ìºì‹± + requestAnimationFrame í™œìš©
const element = document.querySelector('.target');
let ticking = false;

window.addEventListener('scroll', () => {
    if (!ticking) {
        requestAnimationFrame(() => {
            const rect = element.getBoundingClientRect();
            // ... ì²˜ë¦¬ ë¡œì§ ...
            ticking = false;
        });
        ticking = true;
    }
}, { passive: true });</code></pre>
            <div class="warn">
                <strong>âš ï¸ ì£¼ì˜!</strong> ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì•ˆì—ì„œ ë§¤ë²ˆ DOMì„ ì¿¼ë¦¬(<code>querySelector</code>)í•˜ê±°ë‚˜ <code>getBoundingClientRect()</code>ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ë©´, ë¸Œë¼ìš°ì €ì˜ ë¦¬í”Œë¡œìš°(reflow)ë¥¼ ìœ ë°œí•˜ì—¬ ì„±ëŠ¥ ì €í•˜ì˜ ì›ì¸ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </div>
        </section>

        <section>
            <h2>ğŸ‰ í•µì‹¬ ì •ë¦¬</h2>
            <ul>
                <li><strong>ê°€ì¥ ì •í™•í•˜ê³  ì¼ë°˜ì ì¸ ë°©ë²•</strong>: <code>getBoundingClientRect()</code>ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.</li>
                <li><strong>ë¬¸ì„œ ì „ì²´ ê¸°ì¤€ ìœ„ì¹˜</strong>: <code>getBoundingClientRect()</code> ê²°ê³¼ì— <code>window.scrollY</code>ë¥¼ ë”í•´ì„œ ê³„ì‚°í•˜ì„¸ìš”.</li>
                <li><strong>ì„±ëŠ¥ì´ ì¤‘ìš”í•˜ë‹¤ë©´</strong>: ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ì—ì„œëŠ” ë°˜ë“œì‹œ <code>requestAnimationFrame</code>ì„ ì‚¬ìš©í•˜ì—¬ DOM ì ‘ê·¼ì„ ì¡°ì ˆ(throttling)í•˜ì„¸ìš”.</li>
                <li><strong>ìƒí™©ì— ë§ëŠ” ì†ì„± ì‚¬ìš©</strong>: ê° ì†ì„±(offset, client, scroll)ì´ í¬í•¨í•˜ëŠ” ì˜ì—­(padding, border ë“±)ì„ ì •í™•íˆ ì´í•´í•˜ê³  ì‚¬ìš©í•˜ì„¸ìš”.</li>
            </ul>
        </section>
    </div>
</body>
</html>