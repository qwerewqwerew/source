<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Swiper 제어 코드 설명</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.7;
      margin: 0;
      padding: 40px 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      min-height: 100vh;
    }

    .main-container {
      width: 90%;
      max-width: 960px;
      margin: 0 auto;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      padding: 40px;
      position: relative;
      overflow: hidden;
    }

    .main-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #667eea, #764ba2);
    }

    h1 {
      color: #2c3e50;
      font-size: 2.2em;
      margin-bottom: 30px;
      text-align: center;
      font-weight: 300;
      position: relative;
    }

    h1::after {
      content: '';
      display: block;
      width: 60px;
      height: 3px;
      background: #667eea;
      margin: 15px auto 0;
      border-radius: 2px;
    }

    h2 {
      color: #34495e;
      font-size: 1.3em;
      margin-top: 35px;
      margin-bottom: 20px;
      font-weight: 500;
      border-left: 4px solid #667eea;
      padding-left: 15px;
    }

    p {
      margin-bottom: 18px;
      color: #555;
      text-align: justify;
    }

    strong {
      color: #2c3e50;
      font-weight: 600;
    }

    pre[class*="language-"] {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 20px 0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .line-numbers .line-numbers-rows {
      border-right: 1px solid #ddd;
      padding-right: 10px;
      margin-right: 10px;
    }

    code {
      font-family: 'Fira Code', 'Cascadia Code', Consolas, monospace;
      color: #e74c3c;
      background: #f8f9fa;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
    }

    pre code {
      background: none;
      padding: 0;
      color: #2c3e50;
    }

    .highlight-box {
      background: #e8f4f8;
      border: 2px solid #667eea;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }

    .step {
      background: #f8f9fa;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 15px 0;
      border-radius: 0 8px 8px 0;
    }

    .step-number {
      color: #28a745;
      font-weight: bold;
      font-size: 1.1em;
      float: left;
      margin-right: 10px;
    }

    @media (max-width: 768px) {
      body {
        padding: 20px 10px;
      }

      .main-container {
        width: 95%;
        padding: 25px 20px;
      }

      h1 {
        font-size: 1.8em;
      }

      pre {
        padding: 15px;
        font-size: 0.9em;
      }
    }
  </style>
</head>

<body>
  <div class="main-container">
    <h1>🎯 Swiper 제어 코드 설명</h1>

    <h2>2단계</h2>

    <div class="highlight-box">
      <p><strong>이 코드의 목적:</strong> 4번째 슬라이드(가로 슬라이더)에 도착하면 세로 슬라이더의 움직임을 멈춘다.</p>
    </div>

    <h2>📋 코드 분석</h2>
    <pre class="line-numbers"><code class="language-javascript">slideChange: function () {
  if (this.activeIndex === 3) {
    vSwiper.allowTouchMove = false;
    vSwiper.mousewheel.disable();
  }
}</code></pre>

    <div class="step">
      <div class="step-number">1:</div>
      <span><code>slideChange: function () {</code><br>슬라이드가 바뀔 때마다 실행되는 함수를 정의한다.</span>
    </div>

    <div class="step">
      <div class="step-number">2:</div>
      <span><code>if (this.activeIndex === 3) {</code><br>현재 슬라이드가 4번째인지 확인한다. (인덱스는 0부터 시작)</span>
    </div>

    <div class="step">
      <div class="step-number">3:</div>
      <span><code>vSwiper.allowTouchMove = false;</code><br>
        터치나 마우스 드래그로 슬라이더를 이동할 수 있는지 설정하는 속성이다.<br>
        true: 터치/드래그 가능 (기본값)
        false: 터치/드래그 불가능
      </span>
    </div>

    <div class="step">
      <div class="step-number">4:</div>
      <span><code>vSwiper.mousewheel.disable();</code><br>마우스 휠로 슬라이더를 움직이지 못하게 한다.</span>
    </div>

    <h2>2-1</h2>
    <pre class="line-numbers"><code class="language-javascript">if (this.previousIndex !== 4) {
  setTimeout(function () {
    hSwiper.slideTo(0, 0);
    console.log('hSwiper.slideTo(0) 호출');
  }, 50);
}</code></pre>

    <div class="step">
      <div class="step-number">1:</div>
      <span><code>if (this.previousIndex !== 4) {</code><br>이전 슬라이드가 5번째가 아닌 경우에만 실행한다.</span>
    </div>

    <div class="step">
      <div class="step-number">2:</div>
      <span><code>setTimeout(function () {</code><br>50밀리초 후에 함수를 실행한다.</span>
    </div>

    <div class="step">
      <div class="step-number">3:</div>
      <span><code>hSwiper.slideTo(0, 0);</code><br>가로 슬라이더를 첫 번째 슬라이드로 즉시 이동한다.
        <br><strong>slideTo(index, speed)</strong> - 슬라이더를 특정 슬라이드로 이동시키는 메서드
        <br><code>index</code>: 이동할 슬라이드 번호 (0부터 시작), <code>speed</code>: 이동 속도 (밀리초, 0이면 즉시 이동)</span>
    </div>

    <div class="step">
      <div class="step-number">4:</div>
      <span><code>console.log('hSwiper.slideTo(0) 호출');</code><br>콘솔에 로그 메시지를 출력한다.</span>
    </div>

    <h2>3단계 - reachEnd 이벤트</h2>
    <pre class="line-numbers"><code class="language-javascript">on: {
  reachEnd: function () {
    console.log('가로 마지막 슬라이드!');
    hSwiper.canNext = true;
  }
}</code></pre>

    <div class="step">
      <div class="step-number">1:</div>
      <span><code>on: {</code><br>이벤트 핸들러를 정의하는 영역을 시작한다.</span>
    </div>

    <div class="step">
      <div class="step-number">2:</div>
      <span><code>reachEnd: function () {</code><br>가로 슬라이더가 마지막 슬라이드에 도달했을 때 실행되는 함수를 정의한다.
        <br><strong>reachEnd</strong> - 슬라이더가 마지막 슬라이드에 도착했을 때 호출되는 이벤트</span>
    </div>

    <div class="step">
      <div class="step-number">3:</div>
      <span><code>console.log('가로 마지막 슬라이드!');</code><br>가로 슬라이더가 마지막에 도달했음을 알리는 로그 메시지를 출력한다.</span>
    </div>

    <div class="step">
      <div class="step-number">4:</div>
      <span><code>hSwiper.canNext = true;</code><br>JavaScript의 <strong>동적 객체 속성 추가</strong> 기능을 사용한 코드이다.
        <br><br>🤔 <strong>왜 이 속성을 설정해야 할까?</strong>
        <br>• 가로 슬라이더를 끝까지 본 상태를 기록하기 위해
        <br>• 나중에 다른 코드에서 "사용자가 가로 슬라이더를 다 봤는지" 확인할 수 있게 하기 위해
        <br>• 세로 슬라이더의 다음 섹션(5번째)으로 이동할 조건을 만족했음을 표시하기 위해
        <br><br>🔍 <strong>동적 객체 속성이란?</strong>
        <br>• 객체가 만들어진 후에도 새로운 속성을 자유롭게 추가할 수 있는 JavaScript의 특징
        <br>• 미리 정의하지 않았어도 언제든지 속성을 붙일 수 있음
        <br><br>💡 <strong>동작 원리:</strong>
        <br>1. <code>hSwiper</code> 객체가 이미 존재함 (Swiper로 만들어짐)
        <br>2. <code>.canNext</code> 새로운 속성명을 지정
        <br>3. <code>= true</code> 그 속성에 값을 할당
        <br>4. 이제 <code>hSwiper.canNext</code>로 언제든지 접근 가능
        <br><br>🔧 <strong>다른 이름 예시:</strong>
        <br>• <code>hSwiper.완료됨 = true;</code>
        <br>• <code>hSwiper.allSlidesSeen = true;</code>
        <br>• <code>hSwiper.readyForNext = true;</code>
        <br><br>🐛 <strong>디버그 코드 추가:</strong>
        <pre><code>hSwiper.canNext = true;
console.log('✅ canNext 속성 설정됨:', hSwiper.canNext);
console.log('📊 hSwiper 객체 전체:', hSwiper);</code></pre>
        <br>위 디버그 코드를 추가하면 브라우저 개발자도구에서 속성이 제대로 설정되었는지 확인할 수 있다.
      </span>
    </div>

    <h2>3-1 단계 - transitionEnd 이벤트</h2>
    <pre class="line-numbers"><code class="language-javascript">transitionEnd: function () {
  console.log('슬라이드 이동 끝');
  // 마지막에서 오른쪽 이동 시
  if (hSwiper.canNext && hSwiper.isEnd) {
    console.log('세로 이동');
    vSwiper.allowTouchMove = true;
    vSwiper.mousewheel.enable();
    setTimeout(function () {
      vSwiper.slideNext();
      console.log('vSwiper.slideNext() 호출');
    }, 300);
    hSwiper.canNext = false;
  }
}</code></pre>

    <div class="step">
      <div class="step-number">1:</div>
      <span><code>transitionEnd: function () {</code><br>슬라이드 전환 애니메이션이 완전히 끝났을 때 실행되는 함수를 정의한다.
        <br><strong>transitionEnd</strong> - 슬라이드 이동 애니메이션이 완료된 후 호출되는 이벤트</span>
    </div>

    <div class="step">
      <div class="step-number">2:</div>
      <span><code>console.log('슬라이드 이동 끝');</code><br>슬라이드 이동이 완료되었음을 알리는 로그 메시지를 출력한다.</span>
    </div>

    <div class="step">
      <div class="step-number">3:</div>
      <span><code>// 마지막에서 오른쪽 이동 시</code><br>주석: 다음 조건문의 목적을 설명하는 코멘트</span>
    </div>

    <div class="step">
      <div class="step-number">4:</div>
      <span><code>if (hSwiper.canNext && hSwiper.isEnd) {</code><br>두 조건을 모두 만족하는지 확인한다:
        <br>• <code>hSwiper.canNext</code>: 이전에 설정한 "다음 가능" 플래그가 true인지
        <br>• <code>hSwiper.isEnd</code>: 현재 가로 슬라이더가 마지막 슬라이드에 있는지
        <br><br>
        <details>
          <summary><strong>📌 Swiper.js 기본 속성 vs 사용자 정의 속성</strong></summary>
          <div style="margin-left: 20px;">
            <br><strong>Swiper 기본 속성들:</strong>
            <br>• <code>isEnd</code>: 현재 슬라이더가 마지막 슬라이드에 있는지 확인 (boolean)
            <br>• <code>isBeginning</code>: 현재 슬라이더가 첫 번째 슬라이드에 있는지 확인 (boolean)
            <br>• <code>activeIndex</code>: 현재 활성 슬라이드의 인덱스 (number)
            <br>• <code>previousIndex</code>: 이전 슬라이드의 인덱스 (number)
            <br><br><strong>사용자 정의 속성:</strong>
            <br>• <code>canNext</code>: 개발자가 직접 만든 "완료 표시" 플래그 (사용자 정의)
            <br><br><strong>사용 예시:</strong>
            <br><code>console.log(hSwiper.isEnd);</code> // true/false (Swiper 기본)
            <br><code>console.log(hSwiper.canNext);</code> // true/false (사용자 정의)
          </div>
        </details>
      </span>
    </div>

    <div class="step">
      <div class="step-number">5:</div>
      <span><code>console.log('세로 이동');</code><br>세로 이동이 시작됨을 알리는 로그 메시지를 출력한다.</span>
    </div>

    <div class="step">
      <div class="step-number">6:</div>
      <span><code>vSwiper.allowTouchMove = true;</code><br>세로 슬라이더의 터치/드래그 기능을 다시 활성화한다.</span>
    </div>

    <div class="step">
      <div class="step-number">7:</div>
      <span><code>vSwiper.mousewheel.enable();</code><br>세로 슬라이더의 마우스 휠 기능을 다시 활성화한다.</span>
    </div>

    <div class="step">
      <div class="step-number">8:</div>
      <span><code>setTimeout(function () {</code><br>300밀리초 후에 함수를 실행한다. (자연스러운 전환을 위한 지연)</span>
    </div>

    <div class="step">
      <div class="step-number">9-11:</div>
      <span><code>vSwiper.slideNext();</code><br><code>console.log('vSwiper.slideNext() 호출');</code><br><code>}, 300);</code>
        <br><br><strong>이 섹션의 동작:</strong>
        <br>• <code>vSwiper.slideNext();</code> - 세로 슬라이더를 다음 슬라이드(5번째 섹션)로 자동 이동시킨다
        <br>• <code>console.log('vSwiper.slideNext() 호출');</code> - 세로 슬라이더 이동 실행을 알리는 로그 메시지를 출력한다
        <br>• <code>}, 300);</code> - setTimeout 함수의 닫는 부분과 지연 시간(300밀리초) 설정
        <br><br><strong>slideNext()</strong> - 다음 슬라이드로 이동하는 메서드
        <br><br>
        <details>
          <summary><strong>🤔 setTimeout을 왜 사용할까?</strong></summary>
          <div style="margin-left: 20px;">
            <br>• <strong>자연스러운 전환:</strong> 가로 슬라이더에서 세로 슬라이더로 즉시 전환하면 부자연스러울 수 있음
            <br>• <strong>사용자 경험:</strong> 300ms 지연으로 사용자가 전환을 인지할 수 있는 시간을 제공
            <br>• <strong>애니메이션 완료 대기:</strong> 가로 슬라이더의 transitionEnd가 완전히 끝난 후 세로 이동 시작
            <br>• <strong>브라우저 렌더링:</strong> DOM 업데이트와 렌더링이 완료된 후 다음 동작 실행
          </div>
        </details>
      </span>
    </div>

    <div class="step">
      <div class="step-number">12:</div>
      <span><code>hSwiper.canNext = false;</code><br>자동 이동 플래그를 false로 재설정하여 중복 실행을 방지한다.</span>
    </div>

    <h2>3-2 단계 - 이전 섹션으로 이동 기능</h2>
    <pre class="line-numbers"><code class="language-javascript">if (hSwiper.canPrev && hSwiper.isBeginning) {
  console.log('이전섹션으로 이동');
  vSwiper.allowTouchMove = true;
  vSwiper.mousewheel.enable();
  setTimeout(function () {
    vSwiper.slideTo(2);
    console.log('3번섹션 호출');
  }, 300);
  hSwiper.canPrev = false;
}</code></pre>

    <div class="step">
      <div class="step-number">1:</div>
      <span><code>if (hSwiper.canPrev && hSwiper.isBeginning) {</code><br>두 조건을 모두 만족하는지 확인한다:
        <br>• <code>hSwiper.canPrev</code>: 이전 섹션으로 이동 가능한 상태인지 확인하는 사용자 정의 플래그
        <br>• <code>hSwiper.isBeginning</code>: 현재 가로 슬라이더가 첫 번째 슬라이드에 있는지 확인하는 Swiper 기본 속성
        <br><br>
        <details>
          <summary><strong>📌 canPrev는 언제 설정되나?</strong></summary>
          <div style="margin-left: 20px;">
            <br><strong>설정 시점:</strong> 3번째 섹션(세로 슬라이더)에서 4번째 섹션(가로 슬라이더)으로 이동할 때
            <br><strong>목적:</strong> 사용자가 가로 슬라이더 첫 번째에서 왼쪽으로 스와이프했을 때 이전 섹션으로 돌아갈 수 있게 허용
            <br><strong>canNext와의 차이점:</strong>
            <br>• <code>canNext</code>: 가로 슬라이더 마지막 → 다음 세로 섹션으로 이동
            <br>• <code>canPrev</code>: 가로 슬라이더 첫 번째 → 이전 세로 섹션으로 이동
          </div>
        </details>
      </span>
    </div>

    <div class="step">
      <div class="step-number">2:</div>
      <span><code>console.log('이전섹션으로 이동');</code><br>이전 섹션으로 이동이 시작됨을 알리는 로그 메시지를 출력한다.</span>
    </div>

    <div class="step">
      <div class="step-number">3:</div>
      <span><code>vSwiper.allowTouchMove = true;</code><br>세로 슬라이더의 터치/드래그 기능을 다시 활성화한다.</span>
    </div>

    <div class="step">
      <div class="step-number">4:</div>
      <span><code>vSwiper.mousewheel.enable();</code><br>세로 슬라이더의 마우스 휠 기능을 다시 활성화한다.</span>
    </div>

    <div class="step">
      <div class="step-number">5-7:</div>
      <span><code>setTimeout(function () {</code><br><code>vSwiper.slideTo(2);</code><br><code>console.log('3번섹션 호출');</code><br><code>}, 300);</code>
        <br><br><strong>이 섹션의 동작:</strong>
        <br>• <code>setTimeout(function () {</code> - 300밀리초 후에 함수를 실행한다 (자연스러운 전환을 위한 지연)
        <br>• <code>vSwiper.slideTo(2);</code> - 세로 슬라이더를 3번째 섹션(인덱스 2)으로 이동시킨다
        <br>• <code>console.log('3번섹션 호출');</code> - 3번째 섹션 이동 실행을 알리는 로그 메시지를 출력한다
        <br>• <code>}, 300);</code> - setTimeout 함수의 닫는 부분과 지연 시간(300밀리초) 설정
        <br><br><strong>slideTo(index, speed)</strong> - 특정 슬라이드로 이동하는 메서드
        <br>• <code>index</code>: 이동할 슬라이드 번호 (0부터 시작, 여기서는 2 = 3번째 섹션)
        <br>• <code>speed</code>: 생략시 기본 전환 속도 사용</span>
    </div>

    <div class="step">
      <div class="step-number">8:</div>
      <span><code>hSwiper.canPrev = false;</code><br>이전 이동 플래그를 false로 재설정하여 중복 실행을 방지한다.</span>
    </div>

    <h2>3-3 단계 - reachBeginning 이벤트</h2>
    <pre class="line-numbers"><code class="language-javascript">reachBeginning: function () {
  console.log('reachBeginning');
  hSwiper.canPrev = true;
}</code></pre>

    <div class="step">
      <div class="step-number">1:</div>
      <span><code>reachBeginning: function () {</code><br>가로 슬라이더가 첫 번째 슬라이드에 도달했을 때 실행되는 함수를 정의한다.
        <br><strong>reachBeginning</strong> - 슬라이더가 첫 번째 슬라이드에 도착했을 때 호출되는 이벤트
        <br><br>
        <details>
          <summary><strong>📌 reachEnd vs reachBeginning</strong></summary>
          <div style="margin-left: 20px;">
            <br><strong>reachEnd:</strong> 가로 슬라이더가 마지막 슬라이드에 도달했을 때 발생
            <br>• 용도: 다음 섹션으로 이동할 수 있는 조건 설정
            <br>• 설정: <code>hSwiper.canNext = true;</code>
            <br><br><strong>reachBeginning:</strong> 가로 슬라이더가 첫 번째 슬라이드에 도달했을 때 발생
            <br>• 용도: 이전 섹션으로 이동할 수 있는 조건 설정
            <br>• 설정: <code>hSwiper.canPrev = true;</code>
            <br><br><strong>동작 흐름:</strong>
            <br>1. 가로 슬라이더 첫 번째 도달 → <code>reachBeginning</code> 발생 → <code>canPrev = true</code>
            <br>2. 왼쪽 스와이프 → <code>transitionEnd</code> 발생 → <code>canPrev && isBeginning</code> 조건 확인
            <br>3. 조건 만족 시 → 3번째 세로 섹션으로 자동 이동
          </div>
        </details>
      </span>
    </div>

    <div class="step">
      <div class="step-number">2:</div>
      <span><code>console.log('reachBeginning');</code><br>가로 슬라이더가 첫 번째에 도달했음을 알리는 로그 메시지를 출력한다.</span>
    </div>

    <div class="step">
      <div class="step-number">3:</div>
      <span><code>hSwiper.canPrev = true;</code><br>이전 섹션으로 이동 가능한 상태로 플래그를 설정한다.
        <br><br>🤔 <strong>왜 이 속성을 설정해야 할까?</strong>
        <br>• 가로 슬라이더 첫 번째에 도달한 상태를 기록하기 위해
        <br>• 사용자가 왼쪽으로 스와이프했을 때 이전 섹션으로 돌아갈 수 있게 허용
        <br>• <code>transitionEnd</code>에서 <code>canPrev && isBeginning</code> 조건을 만족시키기 위해
        <br><br>💡 <strong>동적 속성 활용:</strong>
        <br>• <code>reachBeginning</code>에서 <code>canPrev = true</code> 설정
        <br>• <code>transitionEnd</code>에서 <code>canPrev && isBeginning</code> 조건 확인
        <br>• 이전 섹션 이동 후 <code>canPrev = false</code>로 재설정</span>
    </div>




    <h2>5단계 - slideChangeTransitionStart 이벤트</h2>
    <p><strong>세로 슬라이더에서 슬라이드 전환이 시작되는 순간을 감지하는 이벤트</strong></p>

    <pre class="line-numbers"><code class="language-javascript">slideChangeTransitionStart: function () {
      console.log('세로 이동 시작:', this.previousIndex + 1, '→', this.activeIndex + 1);
      // 5번째에서 4번째(가로)로 이동할 때
      if (this.previousIndex === IDX_5 && this.activeIndex === IDX_H) {
        console.log('세로 5→4, 가로 슬라이더 마지막으로');
        vSwiper.allowTouchMove = false;
        vSwiper.mousewheel.disable();
        setTimeout(function () {
          hSwiper.slideTo(3, 0);
          console.log('세로 hSwiper.slideTo(3) 호출');
        }, 100);
      }
    }</code></pre>

    <h3>단계별 분석:</h3>
    <div class="explanations">
      <div class="step">
        <div class="step-number">1:</div>
        <span><code>slideChangeTransitionStart: function () {</code><br>슬라이드 전환 애니메이션이 <strong>시작되는 순간</strong>에 실행되는 함수를 정의한다.
          <br><br>🤔 <strong>slideChange vs slideChangeTransitionStart 차이점:</strong>
          <br>• <code>slideChange</code>: 슬라이드 인덱스가 변경된 후 실행
          <br>• <code>slideChangeTransitionStart</code>: 전환 애니메이션이 시작되는 순간 실행
          <br>• 더 정확한 타이밍 제어가 필요할 때 사용</span>
      </div>

      <div class="step">
        <div class="step-number">2:</div>
        <span><code>console.log('세로 이동 시작:', this.previousIndex + 1, '→', this.activeIndex + 1);</code><br>현재 전환 상황을 콘솔에 출력한다.
          <br><br>💡 <strong>디버깅 정보:</strong>
          <br>• <code>previousIndex</code>: 이전 슬라이드 인덱스 (0부터 시작)
          <br>• <code>activeIndex</code>: 현재 슬라이드 인덱스 (0부터 시작)
          <br>• <code>+ 1</code>을 해서 1부터 시작하는 번호로 표시</span>
      </div>

      <div class="step">
        <div class="step-number">3:</div>
        <span><code>if (this.previousIndex === 4 && this.activeIndex === 3) {</code><br>5번째 섹션에서 4번째(가로 슬라이더) 섹션으로 이동하는 특정 상황을 감지한다.
      </div>

      <div class="step">
        <div class="step-number">4:</div>
        <span><code>vSwiper.allowTouchMove = false;</code><br><code>vSwiper.mousewheel.disable();</code><br>세로 슬라이더의 터치 및 마우스휠 조작을 즉시 비활성화한다.
          <br><br>🎯 <strong>목적:</strong>
          <br>• 5→4 이동 중에 사용자가 추가 조작하는 것을 방지
          <br>• 가로 슬라이더로 포커스를 완전히 이동시키기 위해</span>
      </div>

      <div class="step">
        <div class="step-number">5:</div>
        <span><code>setTimeout(function () {</code><br><code>hSwiper.slideTo(3, 0);</code><br><code>}, 100);</code><br>100ms 후에 가로 슬라이더를 마지막(4번째) 슬라이드로 이동시킨다.
          <br><br>🕐 <strong>타이밍 전략:</strong>
          <br>• 100ms 지연: 세로 슬라이더 전환 시작 후 바로 실행
          <br>• <code>slideTo(3, 0)</code>: 4번째 슬라이드로 즉시 이동 (애니메이션 시간 0)
          <br>• 사용자가 5→4로 이동할 때 가로 슬라이더가 마지막 위치에서 시작되도록 설정</span>
      </div>
    </div>

    <div class="highlight-box">
      <h3>🎯 이 이벤트의 핵심 역할</h3>
      <p><strong>세로 슬라이더의 특정 전환 시점에서 가로 슬라이더의 초기 위치를 제어</strong></p>
      <ul>
        <li><strong>정확한 타이밍:</strong> 전환 시작과 동시에 가로 슬라이더 준비</li>
        <li><strong>사용자 경험:</strong> 5번에서 4번으로 내려왔을 때 가로 슬라이더 마지막부터 시작</li>
        <li><strong>상태 동기화:</strong> 두 슬라이더 간의 위치 관계를 사전에 설정</li>
      </ul>
    </div>

    <h2>6단계 - slideChangeTransitionEnd 이벤트</h2>
    <p><strong>세로 슬라이더에서 슬라이드 전환 애니메이션이 완전히 끝난 후 실행되는 이벤트</strong></p>

    <pre class="line-numbers"><code class="language-javascript">slideChangeTransitionEnd: function () {
  if (this.activeIndex === 3) {
    setTimeout(function () {
      if (vSwiper.previousIndex !== 4) {
        hSwiper.update();
        console.log('hSwiper.update()');
      }
    }, 100);
  }
}</code></pre>

    <h3>단계별 분석:</h3>
    <div class="explanations">
      <div class="step">
        <div class="step-number">1:</div>
        <span><code>slideChangeTransitionEnd: function () {</code><br>세로 슬라이더의 전환 애니메이션이 <strong>완전히 끝난 후</strong>에 실행되는 함수를 정의한다.
          <br><br>🤔 <strong>이벤트 실행 순서:</strong>
          <br>• <code>slideChangeTransitionStart</code>: 전환 시작 순간
          <br>• <code>slideChange</code>: 슬라이드 인덱스 변경됨
          <br>• <code>slideChangeTransitionEnd</code>: 전환 애니메이션 완료됨
          <br>• 가장 늦은 타이밍에서 실행되는 이벤트</span>
      </div>

      <div class="step">
        <div class="step-number">2:</div>
        <span><code>if (this.activeIndex === 3) {</code><br>현재 슬라이드가 4번째(가로 슬라이더 섹션)인지 확인한다.
          <br><br>💡 <strong>조건 확인 이유:</strong>
          <br>• 가로 슬라이더가 있는 섹션에서만 업데이트가 필요
          <br>• 다른 섹션에서는 불필요한 업데이트 방지</span>
      </div>

      <div class="step">
        <div class="step-number">3:</div>
        <span><code>setTimeout(function () {</code><br>100ms 후에 함수를 실행한다.
          <br><br>🕐 <strong>지연 시간의 의미:</strong>
          <br>• 전환 애니메이션이 완전히 끝난 후 추가 대기
          <br>• DOM 업데이트와 렌더링이 안정화될 시간 제공
          <br>• 가로 슬라이더의 정확한 업데이트를 위한 안전 마진</span>
      </div>

      <div class="step">
        <div class="step-number">4:</div>
        <span><code>if (vSwiper.previousIndex !== 4) {</code><br>이전 세로 슬라이더 위치가 5번째가 아닌 경우에만 실행한다.
          <br><br>🎯 <strong>조건부 실행 이유:</strong>
          <br>• 5→4 이동 시에는 이미 `slideChangeTransitionStart`에서 가로 슬라이더를 마지막으로 설정했음
          <br>• 1,2,3→4 이동 시에만 가로 슬라이더 업데이트가 필요
          <br>• 중복 업데이트 방지로 성능 최적화</span>
      </div>

      <div class="step">
        <div class="step-number">5:</div>
        <span><code>hSwiper.update();</code><br>가로 슬라이더를 업데이트한다.
          <br><br>🔧 <strong>update() 메서드의 역할:</strong>
          <br>• 슬라이더의 크기와 위치를 다시 계산
          <br>• DOM 변경 사항이 있을 때 슬라이더를 새로고침
          <br>• 레이아웃 변화 후 정확한 동작을 보장
          <br>• 특히 동적으로 보이기/숨기기가 된 슬라이더에 중요
          <br><br>
          <details>
            <summary><strong>📌 언제 update()가 필요한가?</strong></summary>
            <div style="margin-left: 20px;">
              <br><strong>필요한 경우:</strong>
              <br>• 슬라이더 컨테이너 크기가 변경되었을 때
              <br>• CSS로 숨겨져 있던 슬라이더가 표시될 때
              <br>• 반응형 레이아웃에서 화면 크기가 변경될 때
              <br>• 동적으로 슬라이드가 추가/제거되었을 때
              <br><br><strong>이 코드에서의 목적:</strong>
              <br>• 세로 슬라이더 전환 후 가로 슬라이더가 정확히 동작하도록 보장
              <br>• 레이아웃 변화로 인한 잠재적 문제 예방
              <br>• 터치/드래그 영역을 정확히 재계산
            </div>
          </details>
        </span>
      </div>

      <div class="step">
        <div class="step-number">6:</div>
        <span><code>console.log('hSwiper.update()');</code><br>가로 슬라이더 업데이트 실행을 알리는 로그 메시지를 출력한다.
          <br><br>🐛 <strong>디버깅 활용:</strong>
          <br>• 업데이트가 언제 실행되는지 추적 가능
          <br>• 성능 이슈 발생 시 호출 빈도 확인 가능
          <br>• 조건부 실행이 제대로 작동하는지 검증</span>
      </div>
    </div>

    <div class="highlight-box">
      <h3>🎯 이 이벤트의 핵심 역할</h3>
      <p><strong>세로 슬라이더 전환 완료 후 가로 슬라이더의 정확한 동작을 보장</strong></p>
      <ul>
        <li><strong>안정성 확보:</strong> 전환 완료 후 가로 슬라이더 업데이트로 정확한 동작 보장</li>
        <li><strong>조건부 실행:</strong> 5→4 이동 시에는 불필요한 업데이트 방지로 성능 최적화</li>
        <li><strong>타이밍 제어:</strong> 100ms 지연으로 DOM 안정화 후 업데이트 실행</li>
        <li><strong>사용자 경험:</strong> 가로 슬라이더가 항상 정확한 상태에서 시작되도록 보장</li>
      </ul>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
</body>

</html>